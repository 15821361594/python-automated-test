A test harness, in automated test generation, defines the set of valid tests
for a system, and usually also defines a set of correctness
properties.  The difficulty of writing test harnesses is a major
obstacle to the adoption of automated test generation and model
checking.  Languages for writing test harnesses are usually tied to a
particular tool and unfamiliar to programmers.  Such languages often limit
expressiveness.  Writing test harnesses directly in the language of
the Software Under Test (SUT) is a tedious, repetitive, and
error-prone task, offers little or no support for test case
manipulation and debugging, and produces hard-to-read, hard-to-maintain
code.  Using existing harness languages or writing directly in the
language of the SUT also tends to limit users to one algorithm for
test generation, with little ability to explore alternative methods.
In this paper, we present TSTL, the Template Scripting Testing
Language, a domain-specific language (DSL) for writing test harnesses.
TSTL compiles harness definitions into a graph-based
interface for testing, making generic
test generation and manipulation tools that apply to any SUT possible.  TSTL includes a
compiler to Python as well as a suite of tools for generating, manipulating,
and analyzing test cases.  These include simple but easily extensible explicit-state model
checkers.  This paper presents the features of TSTL by focusing on
one large-scale testing effort, directed by an end-user, to find
faults in the most widely used Geographic Information Systems (GIS) tool,
Esri's ArcGIS, using its ArcPy scripting interface.  We also
demonstrate TSTL's power for prototyping novel test generation
algorithms.  

More generally, this paper introduces TSTL's approach to automated
testing and testing tools, where, rather than focus on developing a
monolithic tool that must be extended, the aim is to convert a test
harness into a generic interface accessed via a library API providing
common functionality for testing.  This approach makes testing not a
separate activity to be performed using esoteric tools, but as natural
to users of the language of the system under test as is the use of
domain-specific libraries such as ArcPy, NumPy, or Biopython, for
their respective domains.
TSTL is a language and tool infrastructure, but is also a way to bring testing activities
under the control of an existing programming language in a simple,
natural way.



