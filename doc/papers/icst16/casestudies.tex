\section {Case Studies}

\begin{figure}
{\scriptsize
\begin{code}
 dim1 = 1 
 shape2 = (dim1, dim1, dim1) 
 array1 = np.ones(shape2) 
 array0 = array1 * array1 
 array1 = array1 + array1 
 array4 = array0 + array1 
 array0 = np.reshape(array4,shape2) 
 array3 = array1 * array4 
 array2 = np.ravel(array4) 
 array5 = array2 - array3 
 array4 = array5 * array2 
 array1 = np.unique(array0) 
 array5 = array5 * array3 
 array0 = array1 * array5 
 array5 = np.unique(array0) 
 array1 = array4 - array2 
 array2 = array0.flatten() 
 array0 = array5 + array5 
 array5 = array5 + array2 
 array2 = array0 * array2 
 np.copyto(array5,array2) 
 array2 = array2 * array5 
 array3 = array0 * array2 
 array0 = array3 - array1 
 array4 = array3 * array0 
 array1 = array5 + array4 
 array5 = array0 * array1 
 array0 = array5 - array1 
 array4 = array0 * array3 
 array3 = array4 * array0 
 array1 = array5 + array3 
 array0 = array2 + array1 
 array5 = array5 - array0 
 array5 = array3 * array5 
 array0 = array1 + array5 
 array2 = array3 - array0 
 array4 = array2 * array1 
 array3 = array4 * array2 
 array2 = array0 - array0 
 np.copyto(array1,array3) 
 array4 = array2.flatten() 
 array1 = array1 * array4
 assert (np.array\_equal(array1,array1))
\end{code}
}
\caption{Original failing test case for numpy (42 steps)}
\end{figure}

\begin{figure}
{\scriptsize
\begin{code}
dim0 = 1                            \# STEP 0
\#  or dim0 = 10 
shape0 = (dim0)                     \# STEP 1
\#  or shape0 = (dim0, dim0) 
\#  or shape0 = (dim0, dim0, dim0) 
array0 = np.ones(shape0)            \# STEP 2
array0 = array0 + array0            \# STEP 3
array0 = array0 + array0            \# STEP 4
\#  or array0 = array0 * array0 
array0 = array0 * array0            \# STEP 5
array0 = array0 * array0            \# STEP 6
array0 = array0 * array0            \# STEP 7
array0 = array0 * array0            \# STEP 8
array0 = array0 * array0            \# STEP 9
array0 = array0 * array0            \# STEP 10
array0 = array0 * array0            \# STEP 11
array0 = array0 * array0            \# STEP 12
array0 = array0 * array0            \# STEP 13
array0 = array0 - array0            \# STEP 14
\#  or array1 = array0 - array0 
\#  or array2 = array0 - array0 
\#  or array3 = array0 - array0 
\#  or array4 = array0 - array0 
\#  or array5 = array0 - array0 
assert (np.array\_equal(array0,array0))
\end{code}
}
\caption{Normalized and generalized test case (15 steps)}
\end{figure}

\begin{figure}
{\scriptsize 
\begin{code}
shapefile2 = "C:\\arctmp\\new3.shp" 
shapefile1 = "C:\\arctmp\\new3.shp" 
featureclass2 = shapefile2 
featureclass0 = shapefile1 
shapefilelist2 = 
   glob.glob("C:\\Arctmp\\*.shp") 
fieldname0 = "newf3" 
shapefile1 = shapefilelist2 [0] 
featureclass1 = shapefile1 
arcpy.CopyFeatures\_management
   (featureclass1,featureclass2) 
op1 = ">" 
newlayer2 = "l2" 
val1 = "100" 
selectiontype2 = "SWITCH\_SELECTION" 
fieldname1 = "newf1" 
arcpy.MakeFeatureLayer\_management
   (featureclass0, newlayer2) 
arcpy.SelectLayerByAttribute\_management
   (newlayer2,selectiontype2,
   ' "'+fieldname0+'" '+op1+val1) 
op0 = ">" 
arcpy.Delete\_management(featureclass2) 
arcpy.SelectLayerByAttribute\_management
   (newlayer2,selectiontype2,
   ' "'+fieldname1+'" '+op0+val1) 
\end{code}
}
\caption{Original test case for ESRI arcpy library (19 steps)}
\end{figure}

\begin{figure}
{\scriptsize 
\begin{code}
shapefilelist0 = 
   glob.glob("C:\\Arctmp\\*.shp")        \# STEP 0
\#[
shapefile0 = shapefilelist0 [0]        \# STEP 1
newlayer0 = "l1"                       \# STEP 2
\#  or newlayer0 = "l2" 
\#  or newlayer0 = "l3" 
\#  swaps with steps 3 4 5 6 7
\#] (steps in [] can be in any order)
\#[
featureclass0 = shapefile0             \# STEP 3
\#  swaps with step 2
fieldname0 = "newf1"                   \# STEP 4
\#  or fieldname0 = "newf2" 
\#  or fieldname0 = "newf3" 
\#  swaps with steps 2 8
selectiontype0 = "SWITCH\_SELECTION"    \# STEP 5
\#  or selectiontype0 = "NEW\_SELECTION" 
\#  or selectiontype0 = "ADD\_TO\_SELECTION" 
\#  or selectiontype0 = "REMOVE\_FROM\_SELECTION"
\#  or selectiontype0 = "SUBSET\_SELECTION"
\#  or selectiontype0 = "CLEAR\_SELECTION"   
\#  swaps with steps 2 8
op0 = ">"                              \# STEP 6
\#  or op0 = "<" 
\#  swaps with steps 2 8
val0 = "100"                           \# STEP 7
\#  or val0 = "1000" 
\#  swaps with steps 2 8
\#] (steps in [] can be in any order)
arcpy.MakeFeatureLayer\_management
   (featureclass0, newlayer0)          \# STEP 8
\#  swaps with steps 4 5 6 7
arcpy.SelectLayerByAttribute\_management
   (newlayer0,selectiontype0,
   ' "'+fieldname0+'" '+op0+val0)      \# STEP 9
arcpy.Delete\_management(featureclass0) \# STEP 10
arcpy.SelectLayerByAttribute\_management
   (newlayer0,selectiontype0,
   ' "'+ fieldname0+'" '+op0+val0)     \# STEP 11
\end{code}
}
\caption{Normalized and generalized test case for ESRI arcpy library
  (12 steps)}
\end{figure}